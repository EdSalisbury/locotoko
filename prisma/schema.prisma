generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id String @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  email String @unique
  hash String
  name String

  listedItems Item[] @relation("listingUser")
  shippedItems Item[] @relation("shippingUser")

  @@map("users")
}

model Item {
  id String @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  title String
  description String?
  price Decimal? @db.Money
  soldPrice Decimal? @db.Money
  cost Decimal? @db.Money
  acquisitionDate DateTime?
  soldAt DateTime?
  shippedAt DateTime?
  listingUser User @relation("listingUser", fields: [listingUserId], references: [id])
  listingUserId String
  shippingUser User? @relation("shippingUser", fields: [shippingUserId], references: [id])
  shippingUserId String?
  ownerId String
  owner Owner @relation(fields: [ownerId], references: [id])
  quantity Int
  weightPounds Int?
  weightOunces Int?
  shipWeightPounds Int?
  shipWeightOunces Int?
  sizeHeightInches Int?
  sizeWidthInches Int?
  sizeDepthInches Int?
  shipSizeHeightInches Int?
  shipSizeWidthInches Int?
  shipSizeDepthInches Int?

  images String[]

  @@map("items")
}

model Owner {
  id String @id @default(cuid())
  name String
  rate Decimal

  items Item[]

  @@map("owners")
}

